<html>
    <title> Find The Color </title>
        <link id="pagestyle" rel="stylesheet" type="text/css" href="lightmode.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <script>
        //  src="scripts.js"
        function getRandomInt(min, max) {
          const minCeiled = Math.ceil(min);
          const maxFloored = Math.floor(max);
          // The maximum is exclusive and the minimum is inclusive
          return Math.floor(Math.random() * (maxFloored - minCeiled) + minCeiled);
        }
        
        let correct = 1
        let streak = 0
        let totalTime = 0
        let totalClicks = 0
        let avgTime = totalTime/totalClicks
        let t0
        let t1
        
        let duration = 0
        
        function squareClick(id) {
        
        
        
            
            
            if (id == correct) {
                t1 = Date.now()
        
                if (t0 == null) {
                    t0 = Date.now()
                }
        
                duration = t1 - t0
        
                streak += 1
                totalClicks += 1
                 let rng = getRandomInt(1, 16)
                correct = rng
        
                let r = getRandomInt(11, 245)
                let g = getRandomInt(11, 245)
                let b = getRandomInt(11, 245)
        
                let rgb = "rgb(" + r + ", " + g + ", " + b  + ")"
                let correctRgb = "rgb(" + (r + getRandomInt(-3, -10))  + ", " + (g + getRandomInt(7, 10)) + ", " + (b + getRandomInt(-5, 5)) + ")"
                console.log(rgb)
                console.log(correctRgb)
        
                document.getElementById(correct).style.backgroundColor=rgb
        
                for (let i = 1; i < 17; i++) {
                    document.getElementById(i).style.backgroundColor=rgb
                }
                document.getElementById(correct).style.backgroundColor=correctRgb
        
                totalTime += duration
        
                t0 = Date.now()
        
            } else {
                streak = 0
            }
        
           
            document.getElementById("strkLabel").innerHTML = "Streak: " + streak + " | "
            document.getElementById("timeLabel").innerHTML = "Time: " +  Math.floor(duration) + "ms"
            document.getElementById("avgLabel").innerHTML = "Avg Time: " + Math.floor(totalTime/totalClicks) + "ms"
        
        }
        
        function reset() {
            streak = 0
            totalClicks = 0
            totalTime = 0
            t0 = null
            t1 = null
        
            document.getElementById("strkLabel").innerHTML = "Streak: " + streak + " | "
            document.getElementById("timeLabel").innerHTML = "Time: 0ms"
            document.getElementById("avgLabel").innerHTML = "Avg Time: 0ms"
        
        }
        
        let theme = 1
        function switchTheme() {
        
            if (theme == 1) {
                theme = 2
                document.getElementById("pagestyle").href="darkmode.css"
                document.getElementById("modeBtn").innerHTML="Light Mode"
        
            } else {
                theme = 1
                document.getElementById("pagestyle").href="lightmode.css"
                document.getElementById("modeBtn").innerHTML="Dark Mode"
            }
        
        }
        
    </script>
    <body>
        <header>
            <h1 style="font-weight: normal;"> Find The Disc<span style="color: rgb(130, 130, 130);">o</span>lored Pixel </h1>
        </header>
        <section>
                <div class="squareGrid">
                    <button class='colorBtn' id='1' onclick='squareClick(1)' style="background-color: rgb(142, 142, 142);"></button>
                    <button class='colorBtn' id='2' onclick='squareClick(2)'></button>
                    <button class='colorBtn' id='3' onclick='squareClick(3)'></button>
                    <button class='colorBtn' id='4' onclick='squareClick(4)'></button>
                    <button class='colorBtn' id='5' onclick='squareClick(5)'></button>
                    <button class='colorBtn' id='6' onclick='squareClick(6)'></button>
                    <button class='colorBtn' id='7' onclick='squareClick(7)'></button>
                    <button class='colorBtn' id='8' onclick='squareClick(8)'></button>
                    <button class='colorBtn' id='9' onclick='squareClick(9)'></button>
                    <button class='colorBtn' id='10' onclick='squareClick(10)'></button>
                    <button class='colorBtn' id='11' onclick='squareClick(11)'></button>
                    <button class='colorBtn' id='12' onclick='squareClick(12)'></button>
                    <button class='colorBtn' id='13' onclick='squareClick(13)'></button>
                    <button class='colorBtn' id='14' onclick='squareClick(14)'></button>
                    <button class='colorBtn' id='15' onclick='squareClick(15)'></button>
                    <button class='colorBtn' id='16' onclick='squareClick(16)'></button>
                    <!-- 13 - 76 -->
                </div>
                <br>
                <div align="center">
                    <label id="strkLabel">Streak: 0 | </label><label id="timeLabel">Time: 0ms</label><br>
                    <label id="avgLabel">Avg Time: 0ms</label><br><br>
                    <button id="resetBtn" onclick="reset()">Reset</button><br>
                    <button id="modeBtn" onclick="switchTheme()">Dark Mode</button>
                </div>
        </section>
    </body>

</html>
